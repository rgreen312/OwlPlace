name: build & test frontend

on: 
  pull_request:
    branches: 
      - master

jobs:
  build-deploy:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@master
    - name: install npm deps
      working-directory: ./client
      run: npm install
    - name: build site
      working-directory: ./client
      run: npm run build
    - name: set git user email
      working-directory: ./client
      run: git config --global user.email "ryan.green0@me.com"
    - name: set git user name
      working-directory: ./client
      run: git config --global user.name "Ryan Green"
    - name: deploy to github pages
      working-directory: ./client
      run: npm run deploy
