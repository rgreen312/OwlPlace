(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{204:function(e,n,t){e.exports=t(435)},209:function(e,n,t){},210:function(e,n,t){},434:function(e,n,t){},435:function(e,n,t){"use strict";t.r(n);var r,a,c,o,u=t(0),i=t.n(u),l=t(6),s=(t(209),t(183)),f=t(184),g=t(200),m=t(185),p=t(201),b=(t(210),t(48)),O=t(41),d=Object(O.f)(function(e){var n=e.children,t=e.location.pathname;return Object(u.useEffect)(function(){window.scrollTo(0,0)},[t]),n||null}),E=t(38),h=t(199),j=t(187),v=t(92),w=function(e){var n=e.onComplete,t=e.onCancel,r=Object(u.useState)({r:0,g:0,b:0}),a=Object(h.a)(r,2),c=a[0],o=a[1];return i.a.createElement("div",null,i.a.createElement(j.SketchPicker,{color:c,onChange:function(e){return o({r:e.rgb.r,b:e.rgb.b,g:e.rgb.g})}}),i.a.createElement(v.a,{onClick:function(){return n(c)}},"Okay"),i.a.createElement(v.a,{onClick:t},"Cancel"))},k=function(e){return e.receivedError?i.a.createElement(O.a,{to:"/error"}):i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(w,{onCancel:function(){return console.log("canceled")},onComplete:function(e){return console.log("color selected: ",e)}})))},y=function(e){return e.websocket.receivedError},C=Object(E.b)(function(e){return{receivedError:y(e)}},{})(k),N=function(){return i.a.createElement(C,null)},I=function(){return i.a.createElement("div",{className:"about-page"},"Update the canvas one pixel at a time...")},S=t(132),L=t(438),T=t(13),_=t(436),P=t(437),x=function(e){var n=e.onLogin,t=e.isLoggedIn,r=e.name,a=e.onLogout;window.onGoogleScriptLoad=function(){console.log("The google script has really loaded, cool!")};var c=t?i.a.createElement(i.a.Fragment,null,"Hi, ",r):i.a.createElement(v.a,{className:"login-button",onClick:n},"Login"),o=i.a.createElement(S.a,null,i.a.createElement(S.a.Item,null,i.a.createElement(b.b,{to:"/about"},"About")),i.a.createElement(S.a.Item,null,i.a.createElement(b.b,{to:"/pickColor"},"PickColor")),t&&i.a.createElement(S.a.Item,{onClick:a},"Sign Out")),u=i.a.createElement(L.a,{key:"more",overlay:o},i.a.createElement(v.a,{style:{border:"none",padding:0}},i.a.createElement(T.a,{type:"ellipsis",style:{fontSize:20,verticalAlign:"top"}})));return i.a.createElement(_.a,{title:"OwlPlace",subTitle:"change the canvas one pixel at a time",tags:i.a.createElement(P.a,{color:"green"},"COMP 413"),extra:[c,u]})},R=t(51),A=t.n(R),U=t(91),G="login/LOGIN_START",M="login/LOGIN_SUCCESS",B="login/LOGIN_ERROR",D="login/SIGN_OUT",J=function(){return{type:G}},q=function(e,n,t){return{type:M,payload:{name:e,id:n,email:t}}},F=function(e){return e.login.isLoggedIn},H=function(e){return e.login.name||void 0},X={onLogin:function(){return function(){var e=Object(U.a)(A.a.mark(function e(n){var t,r,a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(J()),t=new Promise(function(e){gapi.load("auth2",function(){gapi.auth2.init({client_id:"634069824484-ch6gklc2fevg9852aohe6sv2ctq7icbk.apps.googleusercontent.com"}),e()})}),e.next=4,t;case 4:return e.next=6,gapi.auth2.getAuthInstance().signIn();case 6:r=gapi.auth2.getAuthInstance().currentUser.get(),a=r.getBasicProfile(),n(q(a.getName(),a.getId(),a.getEmail()));case 9:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()},onLogout:function(){return function(){var e=Object(U.a)(A.a.mark(function e(n){var t;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=gapi.auth2.getAuthInstance(),e.next=3,t.signOut();case 3:n({type:D});case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()}},z=Object(E.b)(function(e){return{isLoggedIn:F(e),name:H(e)}},X)(x),V=(t(434),function(){return i.a.createElement("div",null,i.a.createElement("footer",null,"Made with \u2665 by COMP 413 @ Rice"))}),W=function(){return i.a.createElement("div",{className:"error-page"},"There was an error.")},K=function(){return i.a.createElement(b.a,null,i.a.createElement(d,null,i.a.createElement(z,null),i.a.createElement(O.b,{exact:!0,path:"/",component:N}),i.a.createElement(O.b,{path:"/about",component:I}),i.a.createElement(O.b,{path:"/error",component:W}),i.a.createElement(V,null)))},Q="websocket/START_CONNECT",Y="websocket/CONNECT_SUCCESS",Z="websocket/CONNECT_ERROR",$="websocket/CLOSE_CONNNECTION",ee=function(){return{type:$}},ne=function(e){function n(){return Object(s.a)(this,n),Object(g.a)(this,Object(m.a)(n).apply(this,arguments))}return Object(p.a)(n,e),Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.checkLogin(),this.props.openConnection()}},{key:"render",value:function(){return i.a.createElement(K,null)}}]),n}(i.a.Component),te={checkLogin:function(){return function(){var e=Object(U.a)(A.a.mark(function e(n){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(J()),e.abrupt("return",new Promise(function(e){var t=setTimeout(function(){return Promise.resolve()},3e3);Promise.race([t,function(){return new Promise(function(e){for(;!window.gapi;);e()})}]),window.gapi&&gapi.load("auth2",function(){gapi.auth2.init({client_id:"634069824484-ch6gklc2fevg9852aohe6sv2ctq7icbk.apps.googleusercontent.com"}).then(function(){if(gapi.auth2.getAuthInstance().isSignedIn.get()){var e=gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile();n(q(e.getName(),e.getName(),e.getEmail()))}}),e()})}));case 2:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()},openConnection:function(){return function(e){e({type:Q});var n=new WebSocket("ws://".concat("127.0.0.1:3010","/ws"));n.onopen=function(){n.send(JSON.stringify({type:0,message:"Hi From the Client! The websocket just opened"})),e(function(e){return{type:Y,payload:{socket:e}}}(n))},n.onclose=function(n){e(ee())},n.onerror=function(n){e(function(e){return{type:Z,payload:{error:e}}}(n.type))},n.onmessage=function(e){var n=e.data;console.log("Recieved a message from the server, message: "+n)}}}},re=Object(E.b)(null,te)(ne),ae=t(25),ce=t(10);function oe(e,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,r=arguments.length>1?arguments[1]:void 0,a=n[r&&r.type];return a?a(t,r):t}}var ue,ie,le,se=oe(!1,(r={},Object(ce.a)(r,G,function(){return!1}),Object(ce.a)(r,B,function(){return!1}),Object(ce.a)(r,D,function(){return!1}),Object(ce.a)(r,M,function(){return!0}),r)),fe=oe(null,(a={},Object(ce.a)(a,G,function(){return null}),Object(ce.a)(a,B,function(){return null}),Object(ce.a)(a,D,function(){return null}),Object(ce.a)(a,M,function(e,n){return n.payload.name}),a)),ge=oe(null,(c={},Object(ce.a)(c,G,function(){return null}),Object(ce.a)(c,B,function(){return null}),Object(ce.a)(c,D,function(){return null}),Object(ce.a)(c,M,function(e,n){return n.payload.email}),c)),me=oe(null,(o={},Object(ce.a)(o,G,function(){return null}),Object(ce.a)(o,B,function(){return null}),Object(ce.a)(o,D,function(){return null}),Object(ce.a)(o,M,function(e,n){return n.payload.id}),o)),pe=Object(ae.c)({isLoggedIn:se,name:fe,email:ge,id:me}),be=oe(null,(ue={},Object(ce.a)(ue,Q,function(){return null}),Object(ce.a)(ue,Z,function(){return null}),Object(ce.a)(ue,$,function(){return null}),Object(ce.a)(ue,Y,function(e,n){return n.payload.socket}),ue)),Oe=oe(!1,(ie={},Object(ce.a)(ie,Q,function(){return!1}),Object(ce.a)(ie,Z,function(){return!1}),Object(ce.a)(ie,$,function(){return!1}),Object(ce.a)(ie,Y,function(){return!0}),ie)),de=oe(!1,(le={},Object(ce.a)(le,Q,function(){return!1}),Object(ce.a)(le,Z,function(){return!0}),Object(ce.a)(le,$,function(){return!1}),Object(ce.a)(le,Y,function(){return!1}),le)),Ee=Object(ae.c)({socket:be,isConnected:Oe,receivedError:de}),he=t(198);t.d(n,"store",function(){return we});var je=Object(ae.c)({login:pe,websocket:Ee}),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ae.d,we=Object(ae.e)(je,ve(Object(ae.a)(he.a)));Object(l.render)(i.a.createElement(E.a,{store:we},i.a.createElement(re,null)),document.getElementById("root"))}},[[204,1,2]]]);
//# sourceMappingURL=main.384c409f.chunk.js.map