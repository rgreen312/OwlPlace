(window.webpackJsonpclient=window.webpackJsonpclient||[]).push([[0],{203:function(e,n,t){e.exports=t(434)},208:function(e,n,t){},209:function(e,n,t){},272:function(e,n,t){},434:function(e,n,t){"use strict";t.r(n);var a,c,r,o,u=t(0),i=t.n(u),l=t(6),s=(t(208),t(183)),f=t(184),g=t(200),p=t(185),O=t(201),b=(t(209),t(67)),m=t(41),E=Object(m.e)(function(e){var n=e.children,t=e.location.pathname;return Object(u.useEffect)(function(){window.scrollTo(0,0)},[t]),n||null}),d=t(38),h=function(){return i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement("canvas",null)))},j=Object(d.b)(null,{})(h),C=function(){return i.a.createElement(j,null)},w=function(){return i.a.createElement("div",{className:"about-page"},"Update the canvas one pixel at a time...")},N=t(92),v=t(132),k=t(438),y=t(13),S=t(436),T=t(437),_=function(e){var n=e.onLogin,t=e.isLoggedIn,a=e.name,c=e.onLogout;window.onGoogleScriptLoad=function(){console.log("The google script has really loaded, cool!")};var r=t?i.a.createElement(i.a.Fragment,null,"Hi, ",a):i.a.createElement(N.a,{className:"login-button",onClick:n},"Login"),o=i.a.createElement(v.a,null,i.a.createElement(v.a.Item,null,i.a.createElement(b.b,{to:"/about"},"About")),t&&i.a.createElement(v.a.Item,{onClick:c},"Sign Out")),u=i.a.createElement(k.a,{key:"more",overlay:o},i.a.createElement(N.a,{style:{border:"none",padding:0}},i.a.createElement(y.a,{type:"ellipsis",style:{fontSize:20,verticalAlign:"top"}})));return i.a.createElement(S.a,{title:"OwlPlace",subTitle:"change the canvas one pixel at a time",tags:i.a.createElement(T.a,{color:"green"},"COMP 413"),extra:[r,u]})},I=t(50),L=t.n(I),R=t(91),P="login/LOGIN_START",x="login/LOGIN_SUCCESS",A="login/LOGIN_ERROR",U="login/SIGN_OUT",G=function(){return{type:P}},M=function(e,n,t){return{type:x,payload:{name:e,id:n,email:t}}},B=function(e){return e.login.isLoggedIn},D=function(e){return e.login.name||void 0},J={onLogin:function(){return function(){var e=Object(R.a)(L.a.mark(function e(n){var t,a,c;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(G()),t=new Promise(function(e){gapi.load("auth2",function(){gapi.auth2.init({client_id:"634069824484-ch6gklc2fevg9852aohe6sv2ctq7icbk.apps.googleusercontent.com"}),e()})}),e.next=4,t;case 4:return e.next=6,gapi.auth2.getAuthInstance().signIn();case 6:a=gapi.auth2.getAuthInstance().currentUser.get(),c=a.getBasicProfile(),n(M(c.getName(),c.getId(),c.getEmail()));case 9:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()},onLogout:function(){return function(){var e=Object(R.a)(L.a.mark(function e(n){var t;return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=gapi.auth2.getAuthInstance(),e.next=3,t.signOut();case 3:n({type:U});case 4:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()}},q=Object(d.b)(function(e){return{isLoggedIn:B(e),name:D(e)}},J)(_),F=(t(272),function(){return i.a.createElement("div",null,i.a.createElement("footer",null,"Made with \u2665 by COMP 413 @ Rice"))}),H=t(197),X=t(198),z=function(e){return Object(H.a)(e),i.a.createElement(X.SketchPicker,null)},V=function(){return i.a.createElement(b.a,null,i.a.createElement(E,null,i.a.createElement(q,null),i.a.createElement(z,null),i.a.createElement(m.a,{exact:!0,path:"/",component:C}),i.a.createElement(m.a,{path:"/about",component:w}),i.a.createElement(F,null)))},W=function(e){function n(){return Object(s.a)(this,n),Object(g.a)(this,Object(p.a)(n).apply(this,arguments))}return Object(O.a)(n,e),Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.checkLogin(),this.props.openConnection()}},{key:"render",value:function(){return i.a.createElement(V,null)}}]),n}(i.a.Component),K={checkLogin:function(){return function(){var e=Object(R.a)(L.a.mark(function e(n){return L.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n(G()),e.abrupt("return",new Promise(function(e){var t=setTimeout(function(){return Promise.resolve()},3e3);Promise.race([t,function(){return new Promise(function(e){for(;!window.gapi;);e()})}]),window.gapi&&gapi.load("auth2",function(){gapi.auth2.init({client_id:"634069824484-ch6gklc2fevg9852aohe6sv2ctq7icbk.apps.googleusercontent.com"}).then(function(){if(gapi.auth2.getAuthInstance().isSignedIn.get()){var e=gapi.auth2.getAuthInstance().currentUser.get().getBasicProfile();n(M(e.getName(),e.getName(),e.getEmail()))}}),e()})}));case 2:case"end":return e.stop()}},e)}));return function(n){return e.apply(this,arguments)}}()},openConnection:function(){return function(e){e({type:"websocket/START_CONNECT"});var n=new WebSocket("ws://".concat("127.0.0.1:3010","/ws"));n.onopen=function(){n.send(JSON.stringify({type:0,message:"Hi From the Client! The websocket just opened"})),e(function(e){return{type:"websocket/CONNECT_SUCCESS",payload:{socket:e}}}(n))},n.onclose=function(n){e({type:"websocket/CLOSE_CONNNECTION"})},n.onerror=function(n){e(function(e){return{type:"websocket/CONNECT_ERROR",payload:{error:e}}}(n.type))},n.onmessage=function(e){var n=e.data;console.log("Recieved a message from the server, message: "+n)}}}},Q=Object(d.b)(null,K)(W),Y=t(25),Z=t(10);function $(e,n){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,a=arguments.length>1?arguments[1]:void 0,c=n[a&&a.type];return c?c(t,a):t}}var ee,ne,te=$(!1,(a={},Object(Z.a)(a,P,function(){return!1}),Object(Z.a)(a,A,function(){return!1}),Object(Z.a)(a,U,function(){return!1}),Object(Z.a)(a,x,function(){return!0}),a)),ae=$(null,(c={},Object(Z.a)(c,P,function(){return null}),Object(Z.a)(c,A,function(){return null}),Object(Z.a)(c,U,function(){return null}),Object(Z.a)(c,x,function(e,n){return n.payload.name}),c)),ce=$(null,(r={},Object(Z.a)(r,P,function(){return null}),Object(Z.a)(r,A,function(){return null}),Object(Z.a)(r,U,function(){return null}),Object(Z.a)(r,x,function(e,n){return n.payload.email}),r)),re=$(null,(o={},Object(Z.a)(o,P,function(){return null}),Object(Z.a)(o,A,function(){return null}),Object(Z.a)(o,U,function(){return null}),Object(Z.a)(o,x,function(e,n){return n.payload.id}),o)),oe=Object(Y.c)({isLoggedIn:te,name:ae,email:ce,id:re}),ue=$(null,(ee={},Object(Z.a)(ee,"websocket/START_CONNECT",function(){return null}),Object(Z.a)(ee,"websocket/CONNECT_ERROR",function(){return null}),Object(Z.a)(ee,"websocket/CLOSE_CONNNECTION",function(){return null}),Object(Z.a)(ee,"websocket/CONNECT_SUCCESS",function(e,n){return n.payload.socket}),ee)),ie=$(!1,(ne={},Object(Z.a)(ne,"websocket/START_CONNECT",function(){return!1}),Object(Z.a)(ne,"websocket/CONNECT_ERROR",function(){return!1}),Object(Z.a)(ne,"websocket/CLOSE_CONNNECTION",function(){return!1}),Object(Z.a)(ne,"websocket/CONNECT_SUCCESS",function(){return!0}),ne)),le=Object(Y.c)({socket:ue,isConnected:ie}),se=t(199);t.d(n,"store",function(){return pe});var fe=Object(Y.c)({login:oe,websocket:le}),ge=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,pe=Object(Y.e)(fe,ge(Object(Y.a)(se.a)));Object(l.render)(i.a.createElement(d.a,{store:pe},i.a.createElement(Q,null)),document.getElementById("root"))}},[[203,1,2]]]);
//# sourceMappingURL=main.a5ecf904.chunk.js.map